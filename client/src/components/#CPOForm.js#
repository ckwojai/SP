import React, { Component } from 'react';
import { reduxForm, Field } from 'redux-form';
import { connect } from 'react-redux';
import { compose } from 'redux';
import * as actions from "../actions";
import DayPickerInput from 'react-day-picker/DayPickerInput';
import 'react-day-picker/lib/style.css';

class CPOForm extends Component {
	onSubmit = (formProps) => {
		console.log(formProps);
		this.props.newCPO(formProps);
	};
	render() {
		const { handleSubmit } = this.props;
		return (
			<form onSubmit={handleSubmit(this.onSubmit)}>
			  
			  <fieldset>
				<label>CPO#</label>
				<Field
				  name="CPO_num"
				  type="text"
				  component="input"
				  autoComplete="none"
				  />
			  </fieldset>
			  <fieldset>
				<label>Issue Date</label>
				<Field
				  name="issue_date"
				  type="text"
				  autoComplete="none"
				  component = {props => {
					  return (
						  <DayPickerInput />
					  );
				  }}
				  />
				</fieldset>
			  <fieldset>
				<label>Date</label>
				<Field
				  name="Date"
				  type="text"
				  component="input"
				  autoComplete="none"
				  />
			  </fieldset>				
			  <button>Submit</button>
			</form>
		);
	}
};
export default compose(
	connect(null, actions),
	reduxForm({ form: 'CPOForm'})
)(CPOForm);
